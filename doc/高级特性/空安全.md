### Kotlin ç©ºå®‰å…¨æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“

#### ä¸€ã€æ ¸å¿ƒåŸåˆ™
1. **é»˜è®¤éç©º**  
   Kotlin ç±»å‹é»˜è®¤ä¸å¯ä¸º `null`ï¼ˆç¼–è¯‘æ—¶æ£€æŸ¥ï¼‰ï¼Œé˜²æ­¢æ„å¤–ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ˆNPEï¼‰ï¼š
   ```kotlin
   var name: String = "Kotlin"
   name = null // ç¼–è¯‘é”™è¯¯ï¼
   ```

2. **æ˜¾å¼å£°æ˜å¯ç©º**  
   ä½¿ç”¨ `?` å£°æ˜å¯ç©ºç±»å‹ï¼š
   ```kotlin
   var nickname: String? = null // åˆæ³•
   ```

---

#### äºŒã€å®‰å…¨æ“ä½œç¬¦
| æ“ä½œç¬¦       | ä½œç”¨                                     | ç¤ºä¾‹                              |
|--------------|------------------------------------------|-----------------------------------|
| **`?.`**     | å®‰å…¨è°ƒç”¨ï¼ˆnull åˆ™è¿”å› nullï¼‰             | `user?.address?.city`             |
| **`?:`**     | Elvis æ“ä½œç¬¦ï¼ˆnull æ—¶æä¾›é»˜è®¤å€¼ï¼‰        | `val len = str?.length ?: 0`      |
| **`!!`**     | éç©ºæ–­è¨€ï¼ˆå¼ºåˆ¶è§£åŒ…ï¼Œå¯èƒ½æŠ› NPEï¼‰         | `val id = userId!!`ï¼ˆå±é™©ï¼æ…ç”¨ï¼‰ |
| **`as?`**    | å®‰å…¨ç±»å‹è½¬æ¢ï¼ˆå¤±è´¥è¿”å› nullï¼‰            | `(value as? Int)?.plus(1)`        |

---

#### ä¸‰ã€å¹³å°ç±»å‹ï¼ˆä¸ Java äº’æ“ä½œï¼‰
Java ä»£ç è¿”å›çš„å€¼ä¼šè¢«è§†ä¸º**å¹³å°ç±»å‹**ï¼ˆå¦‚ `String!`ï¼‰ï¼Œéœ€æ‰‹åŠ¨å¤„ç†ï¼š
```kotlin
// Java: public String getComment() { ... }
val comment: String? = javaObj.getComment() // å»ºè®®æ˜¾å¼å£°æ˜å¯ç©º
val upper = javaObj.getComment().toUpperCase() // ç¼–è¯‘é€šè¿‡ï¼Œä½†è¿è¡Œæ—¶å¯èƒ½ NPEï¼
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨ `@Nullable` / `@NotNull` æ³¨è§£ Java ä»£ç 
- è°ƒç”¨ Java API åç«‹å³ç”¨ `?.` æˆ– `?:` å¤„ç†

---

#### å››ã€è¿›é˜¶æŠ€å·§
1. **ç©ºæ£€æµ‹æ™ºèƒ½è½¬æ¢**  
   ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­éç©ºçŠ¶æ€ï¼š
   ```kotlin
   fun printLength(text: String?) {
       if (text != null) {
           println(text.length) // æ­¤å¤„ text æ™ºèƒ½è½¬æ¢ä¸º String
       }
   }
   ```

2. **`let` + å®‰å…¨è°ƒç”¨**  
   é“¾å¼å¤„ç†å¯ç©ºå¯¹è±¡ï¼š
   ```kotlin
   user?.let { 
       sendEmail(it.email) // it éç©º
   }
   ```

3. **é›†åˆå¯ç©ºæ€§**
    - `List<String>`ï¼šå…ƒç´ éç©º
    - `List<String?>`ï¼šå…ƒç´ å¯ç©º
    - `filterNotNull()`ï¼šè¿‡æ»¤ç©ºå…ƒç´ 
      ```kotlin
      val names: List<String?> = listOf("Amy", null, "Bob")
      val validNames = names.filterNotNull() // List<String> ["Amy", "Bob"]
      ```

4. **å»¶è¿Ÿåˆå§‹åŒ–**  
   é¿å…åˆå§‹åŒ–æ—¶ä¸å¿…è¦çš„å¯ç©ºæ€§ï¼š
   ```kotlin
   lateinit var data: String // éç©ºï¼Œåˆå§‹åŒ–å‰è®¿é—®ä¼šæŠ›å¼‚å¸¸
   fun init() {
       data = "Loaded"
   }
   ```

---

#### äº”ã€é‡è¦æ³¨æ„äº‹é¡¹
1. **é¿å…æ»¥ç”¨ `!!`**  
   åªåœ¨ 100% ç¡®å®šéç©ºæ—¶ä½¿ç”¨ï¼ˆå¦åˆ™ç”¨ `?` æˆ– `?:`ï¼‰ã€‚

2. **ä¸ Java äº¤äº’æ—¶**
   ```kotlin
   // âŒ é£é™©å†™æ³•ï¼ˆå¯èƒ½ NPEï¼‰
   javaList.add(JavaObj().nullableValue)

   // âœ… å®‰å…¨å†™æ³•
   JavaObj().nullableValue?.let { javaList.add(it) }
   ```

3. **æ³›å‹å¯ç©ºæ€§**
   ```kotlin
   Box<String>  // éç©ºç±»å‹
   Box<String?> // å¯ç©ºç±»å‹
   ```

---

### æœ€ä½³å®è·µ
- ä¼˜å…ˆä½¿ç”¨ `val` æ›¿ä»£ `var` å‡å°‘å¯å˜çŠ¶æ€
- å‡½æ•°è¿”å›å€¼å°½é‡ç”¨éç©ºç±»å‹ï¼ˆé™¤éå¿…è¦ï¼‰
- å¯¹ç¬¬ä¸‰æ–¹ Java API åšç©ºå€¼å°è£…
- å•å…ƒæµ‹è¯•ä¸­è¦†ç›– null åœºæ™¯

> ğŸ“Œ **å…³é”®æ€ç»´**ï¼šKotlin çš„ç©ºå®‰å…¨æ˜¯é€šè¿‡**ç±»å‹ç³»ç»Ÿ**åœ¨ç¼–è¯‘æœŸæ‹¦æˆªé£é™©ï¼Œè€Œéè¿è¡Œæ—¶æ£€æŸ¥ï¼é€šè¿‡åˆç†è®¾è®¡ç±»å‹ï¼Œå¯æ¶ˆé™¤å¤§éƒ¨åˆ† NPEã€‚